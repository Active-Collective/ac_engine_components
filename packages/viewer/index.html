<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Unit Viewer</title>
  <link rel="icon" href="data:," />
  <link rel="stylesheet" href="./styles.css" />
  <style>
    body,html{margin:0;height:100%;overflow:hidden}
    #viewer{width:100%;height:100%;}
  </style>
</head>
<body>
  <div id="palette">
    <button data-variant="red" style="background:#f33"></button>
    <button data-variant="blue" style="background:#33f"></button>
    <button data-variant="wood" style="background:url('/assets/wood.jpg') center/cover"></button>
    <button id="resetBtn">reset</button>
  </div>
  <aside id="sidebar" data-mode="library" class="collapsed">
    <header>
      <button id="toggle">&#9776;</button>
      <h1 id="panelTitle">Units</h1>
      <button id="back" hidden>&larr;</button>
    </header>
    <section id="panelLibrary" class="panel active">
      <input id="fileInput" type="file" accept=".glb,.gltf" />
      <ul id="unitList"></ul>
    </section>
    <section id="panelInfo" class="panel">
      <table id="metaTable"></table>
    </section>
  </aside>
  <div id="settings">
    <h3>Unit grid settings</h3>
    <label>Horizontal <input id="snapSize" type="number" step="0.1" /></label>
    <label>Vertical <input id="snapHeight" type="number" step="0.1" /></label>
    <label>Grid <input id="gridColor" type="color" /></label>
    <label>Background <input id="bgColor" type="color" /></label>
    <div id="controlsInfo">
      <p><strong>Controls</strong></p>
      <ul>
        <li>Drag red handle to move</li>
        <li>Arrow keys / WASD move on XZ</li>
        <li>Q/E move up/down</li>
        <li>R rotate 90°</li>
      </ul>
    </div>
    <h3>Floors</h3>
    <label>Floor height <input id="floorHeight" type="number" step="0.1" /></label>
    <label>Ghost opacity <input id="ghostOpacity" type="range" min="0" max="1" step="0.01" /></label>
    <label><input id="hideGhost" type="checkbox" /> Hide ghost grids</label>
  </div>
  <div id="levelBar">
    <button data-level="1" class="active">1</button>
    <button data-level="2">2</button>
    <button data-level="3">3</button>
  </div>
  <div id="navBar">
    <button data-action="orbit" title="Orbit (O)"><img src="icons/orbit.svg"></button>
    <button data-action="pan" title="Pan (Shift+MMB)"><img src="icons/pan.svg"></button>
    <button data-action="zoomExt" title="Zoom Extents (F)"><img src="icons/zoomext.svg"></button>
    <button data-view="iso" title="Isometric (Ctrl+1)">ISO</button>
    <button data-view="top" title="Top (Ctrl+2)">Top</button>
    <button data-view="front" title="Front (Ctrl+3)">Front</button>
    <button data-view="right" title="Right (Ctrl+4)">Right</button>
    <button data-view="back" title="Back (Ctrl+5)">Back</button>
    <button data-view="left" title="Left (Ctrl+6)">Left</button>
    <button data-view="bottom" title="Bottom (Ctrl+7)">Bottom</button>
    <button id="helpBtn" title="Help ?">?</button>
  </div>
  <div id="navHelp">
    <p><strong>Navigation</strong></p>
    <ul>
      <li>O: Orbit mode</li>
      <li>Shift+MMB: Pan mode</li>
      <li>F: Zoom extents</li>
      <li>Ctrl+1–7: View presets</li>
    </ul>
  </div>
  <div id="viewer"></div>
  <script type="module" src="./index.ts"></script>
</body>
</html>
